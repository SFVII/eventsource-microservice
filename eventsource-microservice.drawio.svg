<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1271px" height="889px" viewBox="-0.5 -0.5 1271 889" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-02-11T15:37:49.916Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.80 Safari/537.36&quot; etag=&quot;E5ZC9ggvHro5ayeY37g5&quot; version=&quot;16.5.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;-1lyddJ-NnQySIrESqT3&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><clipPath id="mx-clip-457-198-132-30-0"><rect x="457" y="198" width="132" height="30"/></clipPath><clipPath id="mx-clip-457-228-132-30-0"><rect x="457" y="228" width="132" height="30"/></clipPath><clipPath id="mx-clip-457-258-132-30-0"><rect x="457" y="258" width="132" height="30"/></clipPath></defs><g><path d="M 453 228 L 407 228 L 407 699.76" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 407 705.76 L 403 697.76 L 407 699.76 L 411 697.76 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 400px; margin-left: 408px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">Next CorrelationRoute</div></div></div></foreignObject><text x="408" y="403" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Next CorrelationRoute</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 589px; margin-left: 533px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">EmitNew Event to Correlation<br />Â Stream equal to the Next route</div></div></div></foreignObject><text x="533" y="592" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">EmitNew Event to Correlation...</text></switch></g><path d="M 453 198 L 453 168 L 593 168 L 593 198" fill="#ffcc99" stroke="#36393d" stroke-miterlimit="10" pointer-events="all"/><path d="M 453 198 L 453 288 L 593 288 L 593 198" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/><path d="M 453 198 L 593 198" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" text-anchor="middle" font-size="12px"><text x="522.5" y="187.5">Handler</text></g><rect x="453" y="198" width="140" height="30" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-457-198-132-30-0)" font-size="12px"><text x="458.5" y="217.5">Cart validation</text></g><rect x="453" y="228" width="140" height="30" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-457-228-132-30-0)" font-size="12px"><text x="458.5" y="247.5">Payment</text></g><rect x="453" y="258" width="140" height="30" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g fill="rgb(0, 0, 0)" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-457-258-132-30-0)" font-size="12px"><text x="458.5" y="277.5">Purchase Order</text></g><path d="M 107 678 L 107 644.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 107 639.12 L 110.5 646.12 L 107 644.37 L 103.5 646.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="107" cy="685.5" rx="7.5" ry="7.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="none"/><path d="M 107 693 L 107 718 M 107 698 L 92 698 M 107 698 L 122 698 M 107 718 L 92 738 M 107 718 L 122 738" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 745px; margin-left: 107px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;">Customer</div></div></div></foreignObject><text x="107" y="757" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Custo...</text></switch></g><path d="M 107 498 L 107 8 L 493 8 L 493 19.76" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 493 25.76 L 489 17.76 L 493 19.76 L 497 17.76 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 149px; margin-left: 93px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">New Order Event Status = Processing<br />Generate correlationId = md5&lt;entry&gt;</div></div></div></foreignObject><text x="93" y="152" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">New Order Event Status = Processing...</text></switch></g><rect x="37" y="498" width="140" height="140" fill="#f9f7ed" stroke="#36393d" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 568px; margin-left: 38px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Shop,<br />Order Validation rules <br />CorrelationRoute = [ CartValidation, Payment, PurchaseOrder]</div></div></div></foreignObject><text x="107" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Shop,...</text></switch></g><path d="M 1077 528 L 1077 43 L 591.24 43" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 585.24 43 L 593.24 39 L 591.24 43 L 593.24 47 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 59px; margin-left: 943px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Emit new Event to MainÂ <br />Â StreamId = OrderStream<br />CausationId = CartValidation<br />Â set status,<br />update payloadÂ </div></div></div></foreignObject><text x="943" y="62" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Emit new Event to Main...</text></switch></g><rect x="1002" y="528" width="100" height="100" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 578px; margin-left: 1003px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Cart Validation Consumer</div></div></div></foreignObject><text x="1052" y="582" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Cart Validation...</text></switch></g><path d="M 1102 708 L 1172 708 L 1172 8 L 553 8 L 553 19.76" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 553 25.76 L 549 17.76 L 553 19.76 L 557 17.76 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="1002" y="658" width="100" height="100" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 708px; margin-left: 1003px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Payment Consumer</div></div></div></foreignObject><text x="1052" y="712" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Payment Consumer</text></switch></g><path d="M 1102 838 L 1262 838 L 1262 58 L 591.24 58" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 585.24 58 L 593.24 54 L 591.24 58 L 593.24 62 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="1002" y="788" width="100" height="100" fill="#ffcc99" stroke="#36393d" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 838px; margin-left: 1003px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Customer Consumer</div></div></div></foreignObject><text x="1052" y="842" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Customer Consumer</text></switch></g><path d="M 463 58 L 232 58 L 232 568 L 188.97 568" fill="none" stroke="#b85450" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><path d="M 181.47 568 L 191.47 563 L 188.97 568 L 191.47 573 Z" fill="#b85450" stroke="#b85450" stroke-width="4" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 259px; margin-left: 233px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Read Stream event haveÂ  correlationId <br />equal to generated Hash <br />untilÂ <br />State = 'completed' | 'error'</div></div></div></foreignObject><text x="233" y="262" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Read Stream event haveÂ  correlationId...</text></switch></g><path d="M 523 88 L 523 157.9" fill="none" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 523 164.65 L 518.5 155.65 L 523 157.9 L 527.5 155.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 120px; margin-left: 524px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">PersistentStream<br />Read Stream</div></div></div></foreignObject><text x="524" y="123" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">PersistentStream...</text></switch></g><rect x="463" y="28" width="120" height="60" fill="#ffff88" stroke="#36393d" pointer-events="none"/><path d="M 475 28 L 475 88 M 571 28 L 571 88" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 94px; height: 1px; padding-top: 58px; margin-left: 476px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>OrderStream</b> EventStream<br />Into EventStoreDB</div></div></div></foreignObject><text x="523" y="62" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">OrderStream Even...</text></switch></g><path d="M 452 748 L 537 748 L 537 403 L 613.76 403" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.76 403 L 611.76 407 L 613.76 403 L 611.76 399 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 452 748 L 537 748 L 537 548 L 613.76 548" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.76 548 L 611.76 552 L 613.76 548 L 611.76 544 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 452 748 L 537 748 L 537 678 L 613.76 678" fill="none" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.76 678 L 611.76 682 L 613.76 678 L 611.76 674 Z" fill="#001dbc" stroke="#001dbc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 748px; margin-left: 492px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Yes</div></div></div></foreignObject><text x="492" y="751" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Yes</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 739px; margin-left: 683px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Last step : <br />PresetÂ  state = completed</div></div></div></foreignObject><text x="683" y="742" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Last step :...</text></switch></g><path d="M 407 708 L 452 748 L 407 788 L 362 748 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 748px; margin-left: 363px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">State != error</div></div></div></foreignObject><text x="407" y="752" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">State != error</text></switch></g><path d="M 742 418 L 1027 418 L 1027 517.9" fill="none" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 1027 524.65 L 1022.5 515.65 L 1027 517.9 L 1031.5 515.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 419px; margin-left: 883px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Persistent Stream</div></div></div></foreignObject><text x="883" y="422" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Persistent Stream</text></switch></g><path d="M 742 403 L 809 403 L 808.98 281.14" fill="none" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 808.98 274.39 L 813.48 283.39 L 808.98 281.14 L 804.48 283.39 Z" fill="#2d7600" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><rect x="622" y="388" width="120" height="60" fill="#cce5ff" stroke="#36393d" pointer-events="none"/><path d="M 634 388 L 634 448 M 730 388 L 730 448" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 94px; height: 1px; padding-top: 418px; margin-left: 635px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>CartValidation Stream</b></div></div></div></foreignObject><text x="682" y="422" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">CartValidation S...</text></switch></g><path d="M 742 548 L 772 548 L 772 638 L 1027 638 L 1027 647.9" fill="none" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 1027 654.65 L 1022.5 645.65 L 1027 647.9 L 1031.5 645.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 742 533 L 809 533 L 808.98 278.1" fill="none" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 808.98 271.35 L 813.48 280.35 L 808.98 278.1 L 804.48 280.35 Z" fill="#2d7600" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><rect x="622" y="518" width="120" height="60" fill="#cce5ff" stroke="#36393d" pointer-events="none"/><path d="M 634 518 L 634 578 M 730 518 L 730 578" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 94px; height: 1px; padding-top: 548px; margin-left: 635px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>PaymentValidation Stream</b></div></div></div></foreignObject><text x="682" y="552" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">PaymentValidatio...</text></switch></g><path d="M 742 678 L 872 678 L 872 838 L 991.9 838" fill="none" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 998.65 838 L 989.65 842.5 L 991.9 838 L 989.65 833.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 742 663 L 809 663 L 808.98 278.1" fill="none" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 808.98 271.35 L 813.48 280.35 L 808.98 278.1 L 804.48 280.35 Z" fill="#2d7600" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><rect x="622" y="648" width="120" height="60" fill="#cce5ff" stroke="#36393d" pointer-events="none"/><path d="M 634 648 L 634 708 M 730 648 L 730 708" fill="none" stroke="#36393d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 94px; height: 1px; padding-top: 678px; margin-left: 635px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><b>PurchaseOrder<br />Stream</b></div></div></div></foreignObject><text x="682" y="682" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">PurchaseOrder...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 639px; margin-left: 873px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Persistent Stream</div></div></div></foreignObject><text x="873" y="642" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Persistent Stream</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 749px; margin-left: 873px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Persistent Stream</div></div></div></foreignObject><text x="873" y="752" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Persistent Stream</text></switch></g><path d="M 792 203 C 792 194.72 805.43 188 822 188 C 829.96 188 837.59 189.58 843.21 192.39 C 848.84 195.21 852 199.02 852 203 L 852 253 C 852 261.28 838.57 268 822 268 C 805.43 268 792 261.28 792 253 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 852 203 C 852 211.28 838.57 218 822 218 C 805.43 218 792 211.28 792 203" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 241px; margin-left: 793px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">MongoDB</div></div></div></foreignObject><text x="822" y="244" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">MongoDB</text></switch></g><path d="M 593 243 L 692.5 243 L 692.5 240.5 L 781.9 240.5" fill="none" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><path d="M 788.65 240.5 L 779.65 245 L 781.9 240.5 L 779.65 236 Z" fill="#2d7600" stroke="#2d7600" stroke-width="3" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 244px; margin-left: 683px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Save Stream Position</div></div></div></foreignObject><text x="683" y="247" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Save Stream Position</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 339px; margin-left: 820px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; background-color: rgb(255, 255, 255); white-space: nowrap;">Save Stream Position</div></div></div></foreignObject><text x="820" y="342" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">Save Stream Position</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>